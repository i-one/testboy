var testboy={};(function(h){var s=window.document,t,q="",f=" ",k=":",j=["0","0","00"],g=Object.prototype.hasOwnProperty,e=function(x,w){var u=String(x),v=w-u.length;if(v>0){return j[v]+u}return x},p=function(v){var u=s.body;if(!u){throw new Error("Can not append an element to the body because it's null.")}u.appendChild(v)};h.globalize=function(u,v){if(window.execScript){window.execScript("var "+u+";")}window[u]=v};var a=function(u){this._src=u};h.OutputTarget=a;a.prototype._createDom=function(){this._src=s.createElement("pre")};a.prototype._writeln=function(w,u){var v=s.createElement("span");v.appendChild(s.createTextNode(w+"\n"));if(u){v.style.color=u}this._src.appendChild(v)};a.prototype.writeln=function(v,u){if(!this._src){this._createDom();p(this._src)}this.writeln=this._writeln;this.writeln(v,u)};a.prototype.clear=function(){var u=this._src;if(u){u.innerHTML=""}};var n=function(u){this.name=u};h.TestCase=n;n.prototype.setUp=function(){};n.prototype.tearDown=function(){};var l=function(u){this.name=u;this._items=[]};h.TestSuite=l;l.prototype.add=function(v){var u=this._items;u[u.length]=v};l.prototype.getItems=function(){return this._items};var b=function(){this.testCount=0;this.errorCount=0;this.errors=[]};h.TestResult=b;b.prototype.reset=function(){this.testCount=0;this.errorCount=0;this.errors.length=0};b.prototype.addError=function(u){var v=this.errors;v[v.length]=u;this.errorCount++};b.prototype.incrementTestCount=function(){this.testCount++};b.prototype.isFailed=function(){return !!this.errorCount};b.prototype.isSuccessful=function(){return !!!this.errorCount};var c=function(){this._results=new b();this._masterSuite=new l()};h.Runner=c;c.prototype._runTestCase=function(v){var x=v.setUp,w=v.tearDown,u;r.info('Running test case "'+v.name+'"');for(u in v){if(g.call(v,u)&&u.indexOf("test")==0){try{if(x){x()}v[u]();if(w){w()}r.fine('Test "'+u+'" passed.')}catch(y){this._results.addError(y);r.error('Test "'+u+'" failed.\n'+y)}this._results.incrementTestCount()}}};c.prototype._run=function(y){var v=y.getItems(),u=v.length,x;for(var w=0;w<u;w++){x=v[w];if(x instanceof l){this._run(x)}else{this._runTestCase(x)}}};c.prototype.add=function(u){this._masterSuite.add(u)};c.prototype.run=function(){var u=this._results;u.reset();this._run(this._masterSuite);r.info(["Test finished with ",u.errorCount," error(s), ",u.testCount-u.errorCount,"/",u.testCount," tests are passed."].join(q));if(u.isSuccessful()){r.info("TEST SUCCESSFUL")}else{r.info("TEST FAILED")}};var o=function(w,u,v){this.src=w;this.message=u;this.cause=v};h.AssertionError=o;o.prototype.name="testboy.AssertionError";o.prototype.toString=function(){return[this.name,k,f,this.message,"\n    at ",this.src,": ",this.cause].join(q)};var r=h.logger={_post:function(w,u,x){var v=new Date();msg=[e(v.getHours(),2),k,e(v.getMinutes(),2),k,e(v.getSeconds(),2),k,e(v.getMilliseconds(),3),f,w,f,x].join(q);m.writeln(msg,u)},log:function(u){m.writeln(u,"black")},info:function(u){this._post("[info]","gray",u)},fine:function(u){this._post("[fine]","green",u)},warning:function(u){this._post("[warning]","orange",u)},error:function(u){this._post("[error]","red",u)}};var i=h.debug={getSignature:function(w,v){var y=[w,"("],x=0,u=v.length-1;for(;x<u;x++){y[y.length]=typeof v[x];y[y.length]=", "}y[y.length]=typeof v[u];y[y.length]=")";return y.join(q)},valueToString:function(u){return[typeof u,"<",String(u),">"].join(q)}};h.asserts={assertTrue:function(w,u){var v=i.getSignature("assertTrue",arguments);if(w!==true){throw new o(v,u,"Argument is other than "+i.valueToString(true)+".")}},assertFalse:function(w,u){var v=i.getSignature("assertFalse",arguments);if(w!==false){throw new o(v,u,"Argument is other than "+i.valueToString(false)+".")}},assertEquals:function(v,x,u){var w=i.getSignature("assertEquals",arguments);if(x!==v){throw new o(w,u,["Expected ",i.valueToString(v)," instead of ",i.valueToString(x),"."].join(q))}},assertNotUndefined:function(w,u){var v=i.getSignature("assertNotUndefined",arguments);if(w===t){throw new o(v,u,"Argument is undefined.")}},assertUndefined:function(w,u){var v=i.getSignature("assertUndefined",arguments);if(w!==t){throw new o(v,u,"Argument is other than undefined.")}},assertNull:function(w,u){var v=i.getSignature("assertNull",arguments);if(w!==null){throw new o(v,u,"Argument is not null.")}},assertNotNull:function(w,u){var v=i.getSignature("assertNotNull",arguments);if(w===null){throw new o(v,u,"Argument is null.")}},assertError:function(v,w,u,z){var A=i.getSignature("assertError",arguments),x=false;try{v.apply(u,w)}catch(y){x=true}if(!x){throw new o(A,z,"Error wasn't thrown when it was expected.")}},assertNoError:function(v,w,u,z){var A=i.getSignature("assertNoError",arguments),x=false;try{v.apply(u,w)}catch(y){x=true}if(x){throw new o(A,z,"Error was thrown when it was not expected.")}}};var d=h.runner=new c();var m=h.out=new a();h.globalize("assertTrue",h.asserts.assertTrue);h.globalize("assertFalse",h.asserts.assertFalse);h.globalize("assertEquals",h.asserts.assertEquals);h.globalize("assertNotUndefined",h.asserts.assertNotUndefined);h.globalize("assertUndefined",h.asserts.assertUndefined);h.globalize("assertNull",h.asserts.assertNull);h.globalize("assertNotNull",h.asserts.assertNotNull);h.globalize("assertError",h.asserts.assertError);h.globalize("assertNoError",h.asserts.assertNoError)}(testboy));